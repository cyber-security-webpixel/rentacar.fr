(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6036],{46036:function(e,t,n){"use strict";n.d(t,{y:function(){return tt}});var r,a,i=n(85893),o=n(67294),l=n(47568),c=n(14924),s=n(26042),d=n(69396),u=n(99534),p=n(828),h=n(70655),f=n(11648),m=n(46668),v=n(87536),A=n(86896),g=n(46613),_=n(32819),T=n(94184),k=n.n(T),E=n(11163),R=n(19601),S=n(32675),P=n(88144),x=n(27940),y=n(5432),D=n(76876),C=new Set(["PARIS, FRANCE","MARSEILLE, FRANCE","MONTPELLIER, FRANCE","LYON, FRANCE","GRENOBLE, FRANCE","NICE, FRANCE","PERPIGNAN, FRANCE","TOULOUSE, FRANCE","B\xc9ZIERS, FRANCE","CANNES, FRANCE","LILLE, FRANCE","STRASBOURG, FRANCE","AUBERGENVILLE, FRANCE","SAINT-DENIS, FRANCE","AVIGNON, FRANCE","BORDEAUX, FRANCE","BOURGES, FRANCE","BREST, FRANCE","CLERMONT-FERRAND, FRANCE","DIJON, FRANCE","MAUGUIO, FRANCE","MONT\xc9LIMAR, FRANCE","MULHOUSE, FRANCE","NANTES, FRANCE","N\xceMES, FRANCE","NIORT, FRANCE","RENNES, FRANCE","TOULON, FRANCE","TOURS, FRANCE","BASTIA, FRANCE"]),N=n(29815),b=n(16970),I=n(34065),w=function(){var e=(0,A.Z)();return(0,i.jsx)("p",{children:e.formatMessage({id:"searchBlockAutocompletePlacesNotFound"})})},B=null!==(r="https://api-www.rentacar.fr/api/v1/")?r:"",L=function(){var e=(0,l.Z)((function(e){return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(B,"/agencies?term=").concat(e,"&language=fr&trajectType=default"))];case 1:return[2,t.sent().json()]}}))}));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=(0,o.useState)([]),n=t[0],r=t[1];return(0,o.useEffect)((function(){e.length>=1&&L(e).then((function(e){r(e.data)})).catch((function(e){console.log(e)})),""===e&&r([])}),[e]),n},M=n(83555),O=n.n(M),Z=n(25675),F=n.n(Z),G={src:"/_next/static/media/powered-by-google.af15170b.png",height:18,width:144,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAADFBMVEUAAQKKcpGnlmERVq/KirezAAAABHRSTlMZQD0jJpfKgwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABFJREFUCJljYGBgYGBmZGIEAAAdAAhuTDnwAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1};!function(e){e.ADDRESS="addressGroupLabel",e.AGENCY="agenciesTitle"}(a||(a={}));var W=(0,o.forwardRef)((function(e,t){var n=e.value,r=e.shouldDisplayGoogleLogo,a=e.placeId,o=(0,u.Z)(e,["value","shouldDisplayGoogleLogo","placeId"]);return(0,i.jsxs)("div",(0,d.Z)((0,s.Z)({ref:t},o),{"data-cy":a,children:[(0,i.jsx)("div",{children:n}),r?(0,i.jsx)("div",{style:{position:"absolute",right:10,bottom:5},children:(0,i.jsx)(F(),{src:G,alt:"google",layout:"fixed",width:72,height:9})}):null]}))}));W.displayName="AutocompleteItem";var V=W,U=n(83116),H=function(e){var t,n=e.inputId,r=e.ariaLabel,l=e.placeholder,u=e.icon,p=e.thinBorder,h=e.placePredictionService,m=e.name,g=e.control,_=e.validationMethods,T=e.tripRef,E=e.displayAgencyPropositions,R=e.autoFocusNextInput,P=(0,A.Z)(),x=(0,f.rZ)(),y=(0,I.a)((0,D.i)(x.breakpoints.md)),C=(0,I.a)((0,D.i)(x.breakpoints.lg)),B=(0,o.useState)(""),L=B[0],M=B[1],Z=j(L),F=(0,o.useState)(!1),G=F[0],W=F[1],H=y?8:4,Y=null===h||void 0===h?void 0:h.placePredictions,z=null===(t=null===h||void 0===h?void 0:h.isPlacePredictionLoading)||void 0===t||t,K=(0,o.useState)([]),q=K[0],Q=K[1];(0,o.useEffect)((function(){var e=[];void 0!==Z&&(e=Z.filter((function(e,t){return t<H})).map((function(e){return{value:e.name,placeId:null,shouldDisplayGoogleLogo:!1,type:a.AGENCY,group:P.formatMessage({id:a.AGENCY}),latitude:e.gpsLat.toString(),longitude:e.gpsLong.toString()}})));var t=[];void 0!==Y&&(t=Y.slice(0,4).map((function(e){return{value:e.description,placeId:e.placeId,shouldDisplayGoogleLogo:!1,type:a.ADDRESS,group:P.formatMessage({id:a.ADDRESS})}})));var n=(0,N.Z)(E?e:[]).concat((0,N.Z)(t));Q(n)}),[Y,Z,H,4,E,P]);var J=function(){return!0},X=(0,o.useState)(!1),$=X[0],ee=X[1],te=(0,o.useState)(),ne=te[0],re=te[1];return(0,i.jsx)(v.Qr,{render:function(e){var t,o,f,v=e.field,A=e.fieldState.error,g=z||void 0!==(null===(t=v.value)||void 0===t?void 0:t.description.length)&&v.value.description.length<3||!G,_=void 0!==A;return(0,i.jsx)(b.F,(0,d.Z)((0,s.Z)({},v),{ref:T,value:null===(o=v.value)||void 0===o?void 0:o.description,id:n,icon:u,placeholder:l,"aria-label":r,error:_,onBlur:v.onBlur,dropdownPosition:"bottom",limit:H+4,filter:J,wrapperProps:{"data-cy":"autocomplete-".concat(n)},styles:{dropdown:{maxHeight:C?"":"35rem","& .mantine-Text-root":{fontSize:12,color:"#0069b4",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.12rem"}}},classNames:{input:k()((f={},(0,c.Z)(f,O().input,!0),(0,c.Z)(f,O().error,_),(0,c.Z)(f,O().thinBorderLeft,p===S.RN.THIN_BORDER_LEFT&&y),(0,c.Z)(f,O().thinBorderRight,p===S.RN.THIN_BORDER_RIGHT&&y),f)),label:O().label,hovered:O().hovered,dropdown:g?O().dropdownHidden:O().dropdownShown,icon:O().icon},itemComponent:V,nothingFound:(0,i.jsx)(w,{}),variant:"unstyled",onChange:function(e){W(!0),null===h||void 0===h||h.getPlacePredictions(e),v.onChange({description:e,placeId:null}),function(e){$&&ne&&clearTimeout(ne),ee(!0),re(setTimeout((function(){M(e),ee(!1)}),250))}(e)},onItemSubmit:function(e){var t;(v.onChange({description:e.value,placeId:e.placeId,latitude:e.latitude,longitude:e.longitude,isAgency:e.type===a.AGENCY}),(0,U.tX)(T),R(m),y)||(null===(t=T.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))},data:q,onFocus:function(){void 0!==v.value&&(null===h||void 0===h||h.getPlacePredictions(v.value.description))}}))},control:g,name:m,rules:{onChange:function(e){_.clearErrors(e.target.name)}}})};H.displayName="SearchBlockTextInput";var Y,z,K,q,Q=n(17597),J=n(14337),X=function(){var e=(0,l.Z)((function(e){var t,n,r,a,i,o,l;return(0,h.__generator)(this,(function(c){switch(c.label){case 0:return t=e.placePredictionService,n=e.placeId,r=e.latitude,a=e.longitude,null===t||null===n?[3,2]:[4,t.getPlacePredictionDetails(n)];case 1:return i=c.sent(),[2,{computedLatitude:null!==(o=null===i||void 0===i?void 0:i.latitude)&&void 0!==o?o:0,computedLongitude:null!==(l=null===i||void 0===i?void 0:i.longitude)&&void 0!==l?l:0}];case 2:return[2,{computedLatitude:parseFloat(null!==r&&void 0!==r?r:"0"),computedLongitude:parseFloat(null!==a&&void 0!==a?a:"0")}]}}))}));return function(t){return e.apply(this,arguments)}}(),$=function(e,t){return new Promise((function(n){return e.getDetails({placeId:t},(function(e){return n(e)}))}))},ee=function(){var e=(0,l.Z)((function(e){var t,n,r,a,i,o,l,c,s,d,u,p;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:return t=e.googleMapsPlaceService,n=e.googleMapsRefreshSessionToken,r=e.placeId,a=e.latitude,i=e.longitude,null===r?[3,2]:[4,$(t,r)];case 1:return d=h.sent(),n(),[2,{computedLatitude:null!==(u=null===d||void 0===d||null===(o=d.geometry)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.lat())&&void 0!==u?u:0,computedLongitude:null!==(p=null===d||void 0===d||null===(c=d.geometry)||void 0===c||null===(s=c.location)||void 0===s?void 0:s.lng())&&void 0!==p?p:0}];case 2:return[2,{computedLatitude:parseFloat(null!==a&&void 0!==a?a:"0"),computedLongitude:parseFloat(null!==i&&void 0!==i?i:"0")}]}}))}));return function(t){return e.apply(this,arguments)}}(),te=[{description:"Bordeaux,",coordinates:{computedLatitude:44.866669,computedLongitude:-.68333}},{description:"Lyon,",coordinates:{computedLatitude:45.76667,computedLongitude:4.88333}},{description:"Paris,",coordinates:{computedLatitude:48.81223018084606,computedLongitude:2.387252483651025}}],ne=null!==(Y="false")?Y:"true",re=(z={},(0,c.Z)(z,S.IG.ROUND_TRIP,4),(0,c.Z)(z,S.IG.ONE_WAY,3),z),ae=(K={},(0,c.Z)(K,Q.F.CAR,{VehicleType:Q.F.CAR}),(0,c.Z)(K,Q.F.TRUCK,{VehicleType:Q.F.TRUCK}),(0,c.Z)(K,Q.F.CAR_WITHOUT_LICENCE,{VehicleType:Q.F.CAR,IsOnlyWithoutLicense:!0}),K),ie=function(e){return e.isOneWayTrip},oe=function(e){return null!==(q=null===e||void 0===e?void 0:e.isAgency)&&void 0!==q&&q},le=function(){var e=(0,l.Z)((function(e,t,n,r,a){var i,o,l,u,p,f,m,v,A,g,_,T,k,E,R,P,x,y;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:return i=ie(r)?{startSelectedPlace:r.oneWayStart,endSelectedPlace:r.oneWayEnd}:{startSelectedPlace:r.roundTrip,endSelectedPlace:null},l=i.endSelectedPlace,u=oe(o=i.startSelectedPlace)?{startPlaceId:null,agencyLatitude:o.latitude,agencyLongitude:o.longitude}:{startPlaceId:o.placeId,agencyLatitude:void 0,agencyLongitude:void 0},p=u.startPlaceId,f=u.agencyLatitude,m=u.agencyLongitude,v=re[S.IG.ROUND_TRIP],A=50,_=oe(l)?null:null!==(g=null===l||void 0===l?void 0:l.placeId)&&void 0!==g?g:null,"true"!==ne?[3,2]:[4,ee({googleMapsPlaceService:t,googleMapsRefreshSessionToken:n,placeId:p,latitude:null!==f&&void 0!==f?f:null===a||void 0===a?void 0:a.pickupLatitude,longitude:null!==m&&void 0!==m?m:null===a||void 0===a?void 0:a.pickupLongitude})];case 1:return k=h.sent(),[3,4];case 2:return[4,X({placePredictionService:e,placeId:p,latitude:null!==f&&void 0!==f?f:null===a||void 0===a?void 0:a.pickupLatitude,longitude:null!==m&&void 0!==m?m:null===a||void 0===a?void 0:a.pickupLongitude})];case 3:k=h.sent(),h.label=4;case 4:return T=k,E=(0,d.Z)((0,s.Z)({RideType:S.IG.ROUND_TRIP,"Pickup.Latitude":T.computedLatitude,"Pickup.Longitude":T.computedLongitude,"Pickup.MaxNumberOfAgencies":v,Radius:A},ae[r.vehicleType]),{PickupDate:(0,J.i)(r.startDate),DropoffDate:(0,J.i)(r.endDate),pickupDescription:ie(r)?r.oneWayStart.description:r.roundTrip.description,isAgency:oe(o)}),ie(r)?"true"!==ne?[3,6]:[4,ee({googleMapsPlaceService:t,googleMapsRefreshSessionToken:n,placeId:_,latitude:null===a||void 0===a?void 0:a.dropoffLatitude,longitude:null===a||void 0===a?void 0:a.dropoffLongitude})]:[3,9];case 5:return P=h.sent(),[3,8];case 6:return[4,X({placePredictionService:e,placeId:_,latitude:null===a||void 0===a?void 0:a.dropoffLatitude,longitude:null===a||void 0===a?void 0:a.dropoffLongitude})];case 7:P=h.sent(),h.label=8;case 8:R=P,x=function(e,t){var n=te.find((function(t){return e.description.startsWith(t.description)}));return n?n.coordinates:t}(o,T),E=(0,d.Z)((0,s.Z)({},E),(y={RideType:S.IG.ONE_WAY,"Pickup.MaxNumberOfAgencies":re[S.IG.ONE_WAY]},(0,c.Z)(y,"Pickup.Latitude",x.computedLatitude),(0,c.Z)(y,"Pickup.Longitude",x.computedLongitude),(0,c.Z)(y,"Dropoff.Latitude",R.computedLatitude),(0,c.Z)(y,"Dropoff.Longitude",R.computedLongitude),(0,c.Z)(y,"Dropoff.MaxNumberOfAgencies",re[S.IG.ONE_WAY]),(0,c.Z)(y,"dropoffDescription",r.oneWayEnd.description),(0,c.Z)(y,"isAgency",!1),y)),h.label=9;case 9:return[2,E]}}))}));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),ce=n(61213),se=n.n(ce),de=n(94261),ue=n(83996),pe=n(29052),he=function(e,t){var n=function(e){var t=e.formValues,n=e.validationMethods.setError,r=!0;return(t.isOneWayTrip?[S.GN.ONE_WAY_START,S.GN.ONE_WAY_END]:[S.GN.ROUND_TRIP]).forEach((function(e){var a=t[e],i=a&&(0,pe.e)(a)||null===a||void 0===a?void 0:a.placeId;null!==i&&void 0!==i&&void 0!==a||(null===a||void 0===a?void 0:a.isPrefilled)||(null===a||void 0===a?void 0:a.isAgency)||(r=!1,n(e,{type:"validate",message:"searchBlockAutocompleteError"}))})),r}({formValues:e,validationMethods:t}),r=function(e){var t,n=e.formValues,r=e.validationMethods,a=r.clearErrors,i=n.startDate,o=n.endDate,l=(0,U.xk)(i),s=(0,U.SP)(i),d=(0,U.xk)(o),u=(0,U.SP)(o);if(l&&d&&(0,ue.MB)(i,o,n.isOneWayTrip,r))return!1;var h=(t={},(0,c.Z)(t,S.PD.START_DATE,(0,ue.ag)(l,s,l&&s?new Date((0,J.i)(i)):void 0)),(0,c.Z)(t,S.PD.END_DATE,(0,ue.ag)(d,u,d&&u?new Date((0,J.i)(o)):void 0)),t),f=!0;return Object.entries(h).forEach((function(e){var t=(0,p.Z)(e,2),n=t[0],i=t[1],o=n;switch(a(o),i){case de.DZ.DATE:(0,ue.Ai)({inputName:o,type:de.DZ.DATE,messageId:"dateTimePickerDateError",validationMethods:r}),f=!1;break;case de.DZ.TIME:(0,ue.Ai)({inputName:o,type:de.DZ.TIME,messageId:"dateTimePickerTimeError",validationMethods:r}),f=!1;break;case de.DZ.DATE_TIME:(0,ue.Ai)({inputName:o,type:de.DZ.DATE_TIME,messageId:"dateTimePickerDateTimeError",validationMethods:r}),f=!1;break;case de.DZ.DATE_IN_PAST:(0,ue.Ai)({inputName:o,type:de.DZ.DATE_IN_PAST,messageId:"dateTimePickerTimeError",validationMethods:r}),f=!1}})),f}({formValues:e,validationMethods:t});return n&&r},fe=function(e){var t=e.size,n=void 0===t?22:t,r=e.color,a=e.isError,o=void 0!==a&&a,l=(0,f.rZ)(),c=null!==r&&void 0!==r?r:l.colors[o?"error-red":"ocean-blue"][0];return(0,i.jsxs)("svg",{"data-name":"Layer 2",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,children:[(0,i.jsx)("g",{"data-name":"invisible box",children:(0,i.jsx)("path",{"data-name":"Rectangle 1204",style:{fill:"none"},d:"M0 0h22v22H0z"})}),(0,i.jsxs)("g",{"data-name":"icons Q2",children:[(0,i.jsx)("path",{"data-name":"Trac\\xE9 11281",d:"M20.231 11.846a1.385 1.385 0 1 0 1.385 1.385 1.339 1.339 0 0 0-1.385-1.385m0-1.846A3.231 3.231 0 1 1 17 13.231 3.231 3.231 0 0 1 20.231 10z",transform:"translate(-6.308 -4.385)",style:{fill:c}}),(0,i.jsx)("path",{"data-name":"Trac\\xE9 11282",d:"M14.846 3.846c-3.415 0-6 2.769-6 6.462s3.969 7.708 6 9.785c2.031-2.077 6-6.323 6-9.785a6.245 6.245 0 0 0-6-6.462m0-1.846c4.569 0 7.846 3.739 7.846 8.308s-5.308 9.831-7.2 11.723a.877.877 0 0 1-1.292 0C12.308 20.139 7 14.97 7 10.308S10.277 2 14.846 2z",transform:"translate(-.924 -1.077)",style:{fill:c}})]}),(0,i.jsx)("path",{"data-name":"Ligne 456",transform:"translate(2.5 20.5)",style:{stroke:c,strokeLinecap:"round",strokeWidth:"1.5px",fill:"none"},d:"M8 0H0"})]})},me=function(e){var t=e.isError,n=(0,f.rZ)().colors[t?"error-red":"ocean-blue"][0];return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:22,height:22,children:[(0,i.jsx)("g",{"data-name":"invisible box",children:(0,i.jsx)("path",{"data-name":"Rectangle 1204",style:{fill:"none"},d:"M0 0h22v22H0z"})}),(0,i.jsxs)("g",{"data-name":"icons Q2",children:[(0,i.jsx)("path",{"data-name":"Trac\\xE9 11281",d:"M20.231 11.846a1.385 1.385 0 1 1-1.385 1.385 1.339 1.339 0 0 1 1.385-1.385m0-1.846a3.231 3.231 0 1 0 3.231 3.231A3.231 3.231 0 0 0 20.231 10z",transform:"translate(-9.384 -4.385)",style:{fill:n}}),(0,i.jsx)("path",{"data-name":"Trac\\xE9 11282",d:"M14.846 3.846c3.415 0 6 2.769 6 6.462s-3.969 7.708-6 9.785c-2.031-2.077-6-6.323-6-9.785a6.245 6.245 0 0 1 6-6.462m0-1.846C10.277 2 7 5.739 7 10.308s5.308 9.831 7.2 11.723a.877.877 0 0 0 1.292 0c1.892-1.892 7.2-7.062 7.2-11.723S19.416 2 14.846 2z",transform:"translate(-4 -1.077)",style:{fill:n}})]})]})},ve=n(319),Ae=[{name:S.GN.ONE_WAY_START,inputId:"one-way-start",icon:function(e){return(0,i.jsx)(ve.O,{isError:e})},ariaLabel:"searchBlockOneWayStartInputLabel",placeholder:"searchBlockOneWayStartInputPlaceholder",thinBorder:S.RN.THIN_BORDER_RIGHT},{name:S.GN.ONE_WAY_END,inputId:"one-way-end",icon:function(e){return(0,i.jsx)(fe,{isError:e})},ariaLabel:"searchBlockOneWayEndInputLabel",placeholder:"searchBlockOneWayEndInputPlaceholder",thinBorder:S.RN.THIN_BORDER_LEFT}],ge=[{name:S.GN.ROUND_TRIP,inputId:"round-trip",icon:function(e){return(0,i.jsx)(me,{isError:e})},ariaLabel:"searchBlockRoundTripInputLabel",placeholder:"searchBlockRoundTripInputPlaceholder"}],_e=n(21604),Te=n(34425),ke=n.n(Te),Ee=function(e){var t=e.setValue,n=e.getValues,r=e.inputToPrefill,a=n(r===S.GN.ROUND_TRIP?S.GN.ONE_WAY_START:S.GN.ROUND_TRIP);(0,U.r4)(a)&&!function(e,t){return e===S.GN.ONE_WAY_START&&(null===t||void 0===t?void 0:t.isAgency)}(r,a)&&t(r,a)},Re=function(e){var t=e.control,n=e.validationMethods,r=e.disabled,a=e.setValue,o=(0,A.Z)(),l=n.clearErrors;return(0,i.jsx)(v.Qr,{control:t,name:"isOneWayTrip",render:function(e){var t,s=e.field;return(0,i.jsx)(_e.X,{disabled:r,checked:s.value,radius:"xs",onChange:function(){l(),(0,ue.II)({setValue:a,isOneWayTrip:!s.value,validationMethods:n}),Ee({setValue:a,getValues:n.getValues,inputToPrefill:s.value?S.GN.ROUND_TRIP:S.GN.ONE_WAY_START}),s.onChange(!s.value)},label:o.formatMessage({id:"searchBlockCheckboxLabel"}),classNames:{label:k()(ke().label,(t={},(0,c.Z)(t,ke().disabledLabel,r),(0,c.Z)(t,ke().checkedLabel,s.value),(0,c.Z)(t,ke().uncheckedLabel,!s.value),t)),input:r?ke().disabledCheckboxInput:ke().checkboxInput}})}})},Se=[{name:S.PD.START_DATE,locale:"fr",datePickerAriaLabel:"searchBlockDatePickerOneWayStartAriaLabel",datePickerPlaceholder:"searchBlockDatePickerOneWayStartPlaceholder",selectAriaLabel:"searchBlockSelectAriaLabel",selectPlaceholder:"searchBlockSelectPlaceholder"},{name:S.PD.END_DATE,locale:"fr",datePickerAriaLabel:"searchBlockDatePickerOneWayEndAriaLabel",datePickerPlaceholder:"searchBlockDatePickerOneWayEndPlaceholder",selectAriaLabel:"searchBlockSelectAriaLabel",selectPlaceholder:"searchBlockSelectPlaceholder"}],Pe=n(18589),xe=function(e){var t=e.fieldName;return void 0!==e.validationMethods.getFieldState(t).error},ye=n(27484),De=n.n(ye),Ce=n(18908),Ne=n(39524),be=n(2963),Ie=n.n(be),we=function(e){return"".concat(De()(e.date).format("ddd DD/MM/YY"))},Be=function(e){var t,n,r,a=e.formValues,o=e.scrollToSearchBlock,l=e.alwaysCollapseSearchBlock,c=(0,A.Z)(),s=a.isOneWayTrip?Ae:ge,d=null===(t=a[s[0].name])||void 0===t?void 0:t.description,u=a.isOneWayTrip?null===(n=a[s[1].name])||void 0===n?void 0:n.description:null===(r=a[s[0].name])||void 0===r?void 0:r.description,p=a[Se[0].name],h=a[Se[1].name];return(0,i.jsx)(Ce.$,{containerStyle:k()(Ie().searchBlockContainer,l?Ie().hiddenSearchBlock:Ie().shownSearchBlock),children:(0,i.jsx)("div",{className:Ie().innerContainer,children:(0,i.jsxs)("div",{className:Ie().searchBlock,children:[(0,i.jsxs)("div",{className:Ie().pickup,onClick:o,children:[(0,i.jsxs)("div",{className:Ie().addressContainer,children:[(0,i.jsx)("div",{className:Ie().address,children:d}),a.isOneWayTrip&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Ie().separator,children:"-"}),(0,i.jsx)("div",{className:Ie().address,children:u})]})]}),(0,i.jsxs)("div",{className:Ie().dates,children:[(0,i.jsxs)("div",{className:Ie().dateContainer,children:[(0,i.jsx)("div",{className:Ie().date,children:we(p)}),(0,i.jsx)("div",{className:Ie().separator,children:c.formatMessage({id:"at"})}),(0,i.jsx)("div",{className:Ie().time,children:p.time})]}),(0,i.jsx)("div",{className:Ie().iconContainer,children:(0,i.jsx)(Ne._,{size:"14",color:"#3f4756"})}),(0,i.jsxs)("div",{className:Ie().dateContainer,children:[(0,i.jsx)("div",{className:Ie().date,children:we(h)}),(0,i.jsx)("div",{className:Ie().separator,children:c.formatMessage({id:"at"})}),(0,i.jsx)("div",{className:Ie().time,children:h.time})]})]})]}),(0,i.jsx)("div",{className:Ie().modifyButtonContainer,onClick:o,children:(0,i.jsx)("div",{className:Ie().label,children:c.formatMessage({id:"modify"})})})]})})})},Le=n(5152),je=n.n(Le),Me=n(96934),Oe=n(35832),Ze=n(93384),Fe=n.n(Ze),Ge=function(e){var t=e.dateTimePickers,n=e.startDateRef,r=e.endDateRef,a=e.startTimeRef,o=e.endTimeRef,l=e.setRefClicked,c=(0,A.Z)();return(0,i.jsx)(i.Fragment,{children:t.map((function(e){var t=e.datePickerAriaLabel,s=e.datePickerPlaceholder,d=e.selectAriaLabel,u=e.selectPlaceholder,p=e.name;return(0,i.jsx)(m.S,{classNames:{root:Fe().inputWrapperRoot},children:(0,i.jsxs)("div",{className:Fe().dateTimePickerContainer,children:[(0,i.jsx)(Me.I,{"aria-label":c.formatMessage({id:t}),placeholder:c.formatMessage({id:s}),classNames:{input:k()(Fe().datePickerWrapper,Fe().datePickerInput,Fe().loading),icon:Fe().datePickerIcon,wrapper:Fe().fullWidth},icon:(0,i.jsx)(Oe.Q,{isError:!1}),onClick:function(){return l(p===S.PD.START_DATE?n:r)}}),(0,i.jsx)(Me.I,{"aria-label":c.formatMessage({id:d}),placeholder:c.formatMessage({id:u}),classNames:{input:k()(Fe().selectInput,Fe().loading),rightSection:Fe().selectRightSection},onClick:function(){return l(p===S.PD.START_DATE?a:o)}})]})},t)}))})},We=je()((function(){return Promise.all([n.e(5972),n.e(2522)]).then(n.bind(n,22522))}),{loadableGenerated:{webpack:function(){return[22522]}},suspense:!0}),Ve=function(e){var t=e.dateTimePickers,n=e.isRealDateTimePicker,r=e.control,a=e.setValue,l=e.validationMethods,c=e.autoFocusNextInput,s=e.startDateRef,d=e.endDateRef,u=e.startTimeRef,p=e.endTimeRef,h=(0,o.useState)(null),f=h[0],m=h[1];return n?(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(Ge,{dateTimePickers:t,startDateRef:s,endDateRef:d,startTimeRef:u,endTimeRef:p,setRefClicked:m}),children:(0,i.jsx)(We,{dateTimePickers:t,control:r,setValue:a,validationMethods:l,autoFocusNextInput:c,startDateRef:s,endDateRef:d,startTimeRef:u,endTimeRef:p,refClicked:f})}):(0,i.jsx)(Ge,{dateTimePickers:t,startDateRef:s,endDateRef:d,startTimeRef:u,endTimeRef:p,setRefClicked:m})},Ue=n(53219),He=n.n(Ue),Ye=function(e){var t,n=e.inputId,r=e.ariaLabel,l=e.placeholder,u=e.icon,p=e.thinBorder,h=e.googleMapsPredictionService,m=e.name,g=e.control,_=e.validationMethods,T=e.tripRef,E=e.displayAgencyPropositions,R=e.autoFocusNextInput,P=(0,A.Z)(),x=(0,f.rZ)(),y=(0,I.a)((0,D.i)(x.breakpoints.md)),C=(0,I.a)((0,D.i)(x.breakpoints.lg)),B=(0,o.useState)(""),L=B[0],M=B[1],O=j(L),Z=(0,o.useState)(!1),F=Z[0],G=Z[1],W=y?8:4,H=null===h||void 0===h?void 0:h.placePredictions,Y=null===(t=null===h||void 0===h?void 0:h.isPlacePredictionsLoading)||void 0===t||t,z=(0,o.useState)([]),K=z[0],q=z[1];(0,o.useEffect)((function(){var e=[];void 0!==O&&(e=O.filter((function(e,t){return t<W})).map((function(e,t){var n=0===t;return{value:e.name,placeId:null,shouldDisplayGoogleLogo:n,type:a.AGENCY,group:P.formatMessage({id:a.AGENCY}),latitude:e.gpsLat.toString(),longitude:e.gpsLong.toString()}})));var t=[];if(void 0!==H){var n=new Set;t=H.filter((function(e){var t=n.has(e.description);return n.add(e.description),!t})).slice(0,4).map((function(e){return{value:e.description,placeId:e.place_id,shouldDisplayGoogleLogo:!1,type:a.ADDRESS,group:P.formatMessage({id:a.ADDRESS})}}))}var r=(0,N.Z)(E?e:[]).concat((0,N.Z)(t));q(r)}),[H,O,W,4,E,P]);var Q=function(){return!0},J=(0,o.useState)(!1),X=J[0],$=J[1],ee=(0,o.useState)(),te=ee[0],ne=ee[1];return(0,i.jsx)(v.Qr,{render:function(e){var t,o,f,v=e.field,A=e.fieldState.error,g=Y||void 0!==(null===(t=v.value)||void 0===t?void 0:t.description.length)&&v.value.description.length<3||!F,_=void 0!==A;return(0,i.jsx)(b.F,(0,d.Z)((0,s.Z)({},v),{ref:T,value:null===(o=v.value)||void 0===o?void 0:o.description,id:n,icon:u,placeholder:l,"aria-label":r,error:_,onBlur:v.onBlur,dropdownPosition:"bottom",limit:W+4,filter:Q,wrapperProps:{"data-cy":"autocomplete-".concat(n)},styles:{dropdown:{maxHeight:C?"":"35rem","& .mantine-Text-root":{fontSize:12,color:"#0069b4",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.12rem"}}},classNames:{input:k()((f={},(0,c.Z)(f,He().input,!0),(0,c.Z)(f,He().error,_),(0,c.Z)(f,He().thinBorderLeft,p===S.RN.THIN_BORDER_LEFT&&y),(0,c.Z)(f,He().thinBorderRight,p===S.RN.THIN_BORDER_RIGHT&&y),f)),label:He().label,hovered:He().hovered,dropdown:g?He().dropdownHidden:He().dropdownShown,icon:He().icon},itemComponent:V,nothingFound:(0,i.jsx)(w,{}),variant:"unstyled",onChange:function(e){G(!0),null===h||void 0===h||h.getPlacePredictions({input:e}),v.onChange({description:e,placeId:null}),function(e){X&&te&&clearTimeout(te),$(!0),ne(setTimeout((function(){M(e),$(!1)}),250))}(e)},onItemSubmit:function(e){var t;(v.onChange({description:e.value,placeId:e.placeId,latitude:e.latitude,longitude:e.longitude,isAgency:e.type===a.AGENCY}),(0,U.tX)(T),R(m),y)||(null===(t=T.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))},data:K,onFocus:function(){void 0!==v.value&&(null===h||void 0===h||h.getPlacePredictions({input:v.value.description}))}}))},control:g,name:m,rules:{onChange:function(e){_.clearErrors(e.target.name)}}})};Ye.displayName="SearchBlockTextInput";var ze,Ke=Ye,qe=null!==(ze="false")?ze:"true",Qe=function(e){var t=e.initialState,n=e.placesService,r=e.coordinates,a=e.refreshSessionToken,T=e.googleMapsPredictionService,N=e.placePredictionService,b=e.loadGoogleMapsScript,I=e.autoTriggerResearch,w=e.shouldCollapseSearchBlock,B=e.lazyLoadDatePickers,L=e.setIsOneWayTrip,j=(0,A.Z)(),M=(0,E.useRouter)(),O=(0,f.rZ)(),Z=(0,y.Z)((0,D.i)(O.breakpoints.lg)),F=(0,v.cI)({mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{vehicleType:Q.F.CAR,isOneWayTrip:!1}}),G=F.handleSubmit,W=F.control,V=F.watch,U=F.reset,Y=F.setValue,z=(0,u.Z)(F,["handleSubmit","control","watch","reset","setValue"]),K=V("isOneWayTrip"),q=V("vehicleType");(0,o.useEffect)((function(){void 0!==L&&L(!!K)}),[K]);var J=(0,o.useState)(!B),X=J[0],$=J[1],ee=function(e){var t=e.validationMethods,n=Object.keys(t.formState.errors);return Object.values(S.GN).some((function(e){return n.includes(e)}))}({validationMethods:z}),te=!K&&q!==Q.F.CAR_WITHOUT_LICENCE,ne=function(){var e=(0,l.Z)((function(e){var t,i,o;return(0,h.__generator)(this,(function(l){switch(l.label){case 0:if(!he(e,z))return[2];if(void 0===n||null===n)throw new Error("Google autocomplete not defined. FormValues: ".concat(JSON.stringify(e)));if(void 0===a)throw new Error("Refresh session token not defined");return t=window.performance.now(),[4,le(N,n,a,e,r)];case 1:return i=l.sent(),o=window.performance.now(),P.Z.trackUserTiming("Call google Maps API",o-t),i.IsOnlyWithoutLicense||"OneWay"===i.RideType||C.has(function(e){var t=e.split(", ").map((function(e){return e.trim().toUpperCase()})),n="",r="",a=!0,i=!1,o=void 0;try{for(var l,c=Array.from(C)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value,d=(0,p.Z)(s.split(", ").map((function(e){return e.trim()})),2),u=d[0],h=d[1];!n&&t.includes(u)&&(n=u),!r&&t.includes(h)&&(r=h)}}catch(f){i=!0,o=f}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return"".concat(n,", ").concat(r)}(i.pickupDescription.toUpperCase()))?(P.Z.trackUserSearch(i),[2,M.push({pathname:x._.resultPage,query:i})]):(i=(0,d.Z)((0,s.Z)({},i),{"Pickup.MaxNumberOfAgencies":1}),P.Z.trackUserSearch(i),[2,M.push({pathname:x._.resultGuaranteedCat,query:i})])}}))}));return function(t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){U(t)}),[t,U]);var re=K?Ae:ge,ae=(0,o.useRef)(null),ie=(0,o.useRef)(null),oe=(0,o.useRef)(null),ce=(0,o.useRef)(null),de=(0,o.useRef)(null),ue=(0,o.useRef)(null),pe=(0,o.useRef)(null),fe=(0,Pe.n)({getValues:z.getValues,endTripRef:ie,startDateRef:oe,startTimeRef:ce,endDateRef:de,endTimeRef:ue}),me=(0,p.Z)((0,g.s)({threshold:0}),2),ve=me[0],_e=me[1],Te=(0,_.g)({offset:5,duration:400}),ke=Te.scrollIntoView,Ee=Te.targetRef,ye="always"===w||"whenScrolled"===w&&!1===(null===_e||void 0===_e?void 0:_e.isIntersecting),De=function(){b(),$(!0)};return(0,i.jsxs)(i.Fragment,{children:[ye&&void 0!==t&&(0,i.jsx)(Be,{formValues:t,scrollToSearchBlock:function(){var e;null===(e=pe.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},alwaysCollapseSearchBlock:"always"===w}),(0,i.jsx)("form",{onSubmit:G(ne),onClick:De,onPointerEnter:De,className:k()((0,c.Z)({},se().hidden,ye)),ref:pe,children:(0,i.jsx)("div",{className:se().searchBlockContainer,ref:ve,children:(0,i.jsxs)("div",{className:se().searchBlockContent,children:[(0,i.jsx)("div",{className:se().vehicleTypeContainer,children:(0,i.jsx)(Q.j,{control:W,setValue:Y,getValues:z.getValues,formRef:pe,autoTriggerResearch:I,isOneWayTrip:K})}),(0,i.jsx)("div",{className:se().checkboxContainer,children:(0,i.jsx)(Re,{control:W,validationMethods:z,disabled:q===Q.F.CAR_WITHOUT_LICENCE,setValue:Y})}),(0,i.jsxs)("div",{className:se().container,children:[(0,i.jsx)(m.S,{className:se().roundTripContainer,error:ee?j.formatMessage({id:"searchBlockAutocompleteError"}):null,children:(0,i.jsx)("div",{className:se().roundTripSubContainer,ref:Ee,onFocus:function(){Z||ke()},children:"true"===qe?re.map((function(e){return(0,i.jsx)(Ke,{control:W,name:e.name,icon:e.icon(xe({fieldName:e.name,validationMethods:z})),inputId:e.inputId,ariaLabel:j.formatMessage({id:e.ariaLabel}),placeholder:j.formatMessage({id:e.placeholder}),thinBorder:e.thinBorder,googleMapsPredictionService:T,validationMethods:z,autoFocusNextInput:fe,tripRef:e.name===S.GN.ONE_WAY_END?ie:ae,displayAgencyPropositions:te},e.inputId)})):re.map((function(e){return(0,i.jsx)(H,{control:W,name:e.name,icon:e.icon(xe({fieldName:e.name,validationMethods:z})),inputId:e.inputId,ariaLabel:j.formatMessage({id:e.ariaLabel}),placeholder:j.formatMessage({id:e.placeholder}),thinBorder:e.thinBorder,placePredictionService:N,validationMethods:z,autoFocusNextInput:fe,tripRef:e.name===S.GN.ONE_WAY_END?ie:ae,displayAgencyPropositions:te},e.inputId)}))})}),(0,i.jsxs)("div",{className:se().dateTimePickersContainer,children:[(0,i.jsx)(Ve,{dateTimePickers:Se,isRealDateTimePicker:X,control:W,setValue:Y,validationMethods:z,autoFocusNextInput:fe,startDateRef:oe,endDateRef:de,startTimeRef:ce,endTimeRef:ue}),(0,i.jsx)("div",{className:se().searchButtonContainer,children:(0,i.jsx)(R.d,{label:j.formatMessage({id:"searchBlockCta"}),dataCy:"searchBlockCta"})})]})]})]})})})]})},Je=n(83780),Xe=function(e){var t=e.setGoogleMapsPlacesService,n=function(){var e;return(0,Je.Z)({apiKey:null!==(e="AIzaSyD8Q2yG6r6TD2Bgbw-I8DvmIyWKG9BvocY")?e:"",sessionToken:!0,options:{input:"gre",componentRestrictions:{country:["fr","mq","gp","re","gf"]},bounds:{south:45.661,west:5.07,north:45.666,east:5.09}}})}();return(0,o.useEffect)((function(){t(n)}),[JSON.stringify(n.placePredictions),n.isPlacePredictionsLoading,n.placesService]),null};var $e={apiOrder:["localities"],localities:{key:"woos-4870c95b-705d-3910-8b34-7f17a9e85509",fallbackBreakpoint:.5,minInputLength:3,params:{types:["locality","country","address","postal_code","airport","train_station"],language:"fr",components:{country:["FR"]}}}};function et(){var e=(0,o.useState)(null),t=e[0],n=e[1],r=(0,o.useState)(null),a=r[0],i=r[1],c=(0,o.useState)([]),s=c[0],d=c[1],u=(0,o.useState)(!1),p=u[0],f=u[1],m=function(e){var t=(0,o.useState)(!1),n=t[0],r=t[1];return(0,o.useEffect)((function(){try{if(document.querySelector('script[src="'.concat(e,'"]')))r(!0);else{var t=document.createElement("script");t.src=e,t.async=!0,t.onload=function(){r(!0)},document.body.appendChild(t)}}catch(n){console.error("An error occurred while loading ".concat(e))}}),[e]),n}("https://sdk.woosmap.com/multisearch/multisearch.js"),v=(0,o.useCallback)((function(e){null!==t&&(f(!0),t.autocompleteMulti(e).then((function(e){var t=e.map((function(e){return{placeId:e.id,description:e.description}}));d(t)}),(function(e){console.log(e),d([])})),f(!1))}),[t]),A=(0,o.useCallback)(function(){var e=(0,l.Z)((function(e){return(0,h.__generator)(this,(function(n){switch(n.label){case 0:return null===t?[3,2]:[4,t.detailsLocalities(e).then((function(e){return{placeId:e.id,description:e.formatted_address,latitude:e.geometry.location.lat,longitude:e.geometry.location.lng}}),(function(e){console.log(e)}))];case 1:return[2,n.sent()];case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[t]);return(0,o.useEffect)((function(){if(m){var e=window.woosmap.multisearch($e);n(e)}}),[m]),(0,o.useEffect)((function(){i({placePredictions:s,getPlacePredictions:v,getPlacePredictionDetails:A,isPlacePredictionLoading:p})}),[s,v,A,p]),a}var tt=function(e){var t=e.initialState,n=e.coordinates,r=e.loadMapsScriptOnFirstRender,a=void 0!==r&&r,l=e.autoTriggerResearch,c=void 0!==l&&l,s=e.shouldCollapseSearchBlock,d=void 0===s?"never":s,u=e.lazyLoadDatePickers,p=void 0!==u&&u,h=e.setIsOneWayTrip,f=(0,o.useState)(a),m=f[0],v=f[1],A=(0,o.useState)(),g=A[0],_=A[1],T=et(),k=(0,o.useState)(0),E=k[0],R=k[1];return null===(null===g||void 0===g?void 0:g.placesService)&&setTimeout((function(){R(E+1)}),50),t=function(e){var t,n,r=e.initialState;return r&&((0,ue.OF)(null===(t=r.startDate)||void 0===t?void 0:t.date)&&(r.startDate={date:null,time:null}),(0,ue.OF)(null===(n=r.endDate)||void 0===n?void 0:n.date)&&(r.endDate={date:null,time:null})),r}({initialState:t}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Qe,{initialState:t,coordinates:n,loadGoogleMapsScript:function(){v(!0)},placesService:null===g||void 0===g?void 0:g.placesService,refreshSessionToken:null===g||void 0===g?void 0:g.refreshSessionToken,googleMapsPredictionService:void 0!==g?{placePredictions:g.placePredictions,getPlacePredictions:g.getPlacePredictions,isPlacePredictionsLoading:g.isPlacePredictionsLoading}:void 0,placePredictionService:T,autoTriggerResearch:c,shouldCollapseSearchBlock:d,lazyLoadDatePickers:p,setIsOneWayTrip:h}),m&&(0,i.jsx)(Xe,{setGoogleMapsPlacesService:_})]})}},94261:function(e,t,n){"use strict";n.d(t,{DZ:function(){return r},Kn:function(){return i},gq:function(){return a}});var r,a=90,i=5;!function(e){e.DATE="dateError",e.TIME="timeError",e.DATE_TIME="dateTimeError",e.DATE_IN_PAST="dateInPastError",e.DATE_TIME_ERROR_ON_END_DATEPICKER="dateTimeEndDatePickerError",e.NO_ERROR="noError"}(r||(r={}))},14337:function(e,t,n){"use strict";n.d(t,{$A:function(){return s},Ej:function(){return u},Tk:function(){return d},i:function(){return c},ur:function(){return l}});var r=n(27484),a=n.n(r),i=n(83116),o=["00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],l=function(e){var t,n=e.inputName,r=e.validationMethods.getValues,a=new Date,l=r(n),c=(0,i.xk)(l)&&d(l.date,a),s=2*(t=a).getHours()+~~(t.getMinutes()/30);return o.map((function(e,t){return{label:e,value:e,disabled:!!c&&t<=s}}))},c=function(e){var t=a()(e.date).format("YYYY-MM-DD");return(0,i.SP)(e)?"".concat(t,"T").concat(e.time,":00"):"".concat(t,"T00:00:00")},s=function(e,t){var n=c({date:e.date,time:e.time}),r=c({date:t.date,time:t.time});return Math.abs(a()(r).diff(n,"day",!0))},d=function(e,t){return a()(e).isSame(t,"date")},u=function(){var e=new Date,t=e.setMinutes(30*Math.ceil(e.getMinutes()/30)),n=new Date(t);return a()(n).format("HH:mm")}},17597:function(e,t,n){"use strict";n.d(t,{F:function(){return r},j:function(){return v}});var r,a=n(85893),i=n(25675),o=n.n(i),l=n(87536),c=n(86896),s=n(67294),d={src:"/_next/static/media/truck.6657c6eb.png",height:26,width:57,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAOVBMVEXt7e1ubm1EREQaGhrQ0NCOjo5hYWFNTU1MaXFCQkJubm60tLP///+bm5vCwsLS0tKRkZGGhISoqKi2xNprAAAADXRSTlPZxbhQxlSAcwCfoY0GEqBBvQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAClJREFUCJkFwQkCABAIAMF1Voj4/2PNAFCbKnufU9Nc3HD3FwMzEem5fBHuARYCZ7SsAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4},u={src:"/_next/static/media/car.e00760fa.png",height:26,width:51,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAOVBMVEUFBASqqqq2trbKysqPj4/Pz89fX18AAAB4eHi3s7Krq6tOTk20tLSOjo6rq6vS09O7u7tJSUlMTEzg9bRfAAAAEHRSTlM1ju/Hc2CaBZ2q9iD3/vMX3dEOFwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUCJlj4Gdk42DhZmdn4BQQEBBgYmZl4BDi4+LhFeRkYGcAA3YAFI8BAj6Sf2gAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4},p={src:"/_next/static/media/car-without-licence.c715c7e1.png",height:26,width:44,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAS1BMVEVMaXE+KCvIw7ydnJVCOjqAf3dnc3hAOToAAABEQ0KKiYdkZF////+IhoSpqKBoaGSGhoBCQUD29eg6OTnf3c+ioZmwraM0MzRzcG5gEw6uAAAAFHRSTlMAWljsOucTRyD810YUzDLmkRY7hzH+rlwAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAySURBVAiZBcGJAYAgDACxQ8AWUd6i7D+pCQQnJ8BY+3qOG9oys9cX5ldjTCnTRVUl8AMioAGa/Y+nhgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5},h=n(59614),f=n.n(h),m=n(29052);!function(e){e.TRUCK="Truck",e.CAR="Car",e.CAR_WITHOUT_LICENCE="WithoutLicence"}(r||(r={}));var v=function(e){var t=e.control,n=e.setValue,i=e.getValues,h=e.formRef,v=e.autoTriggerResearch,A=e.isOneWayTrip,g=(0,c.Z)(),_=[{src:u,alt:"Picture of car",width:51,height:26,type:r.CAR,typeLabel:"vehicleTypeCars",ref:(0,s.useRef)(null)},{src:d,alt:"Picture of truck",width:57,height:26,type:r.TRUCK,typeLabel:"vehicleTypeTrucks",ref:(0,s.useRef)(null)},{src:p,alt:"Picture of car without licence",width:44,height:26,type:r.CAR_WITHOUT_LICENCE,typeLabel:"vehicleTypeCarsWithoutLicence",ref:(0,s.useRef)(null)}];return(0,s.useEffect)((function(){A&&n("vehicleType",r.TRUCK)}),[A,n]),(0,a.jsx)(l.Qr,{render:function(e){var t=e.field;return(0,a.jsx)("div",{className:f().overflowContainer,children:(0,a.jsx)("div",{className:f().buttonsContainer,children:_.map((function(e){return(0,a.jsxs)("button",{type:"button",className:t.value===e.type?"".concat(f().buttonContainer," ").concat(f().active):f().buttonContainer,onClick:function(){var a;if(t.onChange(e.type),null===(a=e.ref.current)||void 0===a||a.scrollIntoView({inline:"center",behavior:"smooth",block:"nearest"}),e.type===r.CAR_WITHOUT_LICENCE){n("isOneWayTrip",!1);var o=i("roundTrip");o&&(0,m.e)(o)&&n("roundTrip",{description:"",placeId:null,isAgency:!1})}v&&function(e){var t;null===(t=e.current)||void 0===t||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}(h)},ref:e.ref,"data-cy":e.type,children:[(0,a.jsxs)("div",{className:f().buttonContent,children:[(0,a.jsx)(o(),{src:e.src,alt:e.alt,layout:"fixed",sizes:"(max-width: 51px) ".concat(e.width,"wv,(max-height: 26px) ").concat(e.height,"wv,").concat(2*e.height,"wv")}),(0,a.jsx)("span",{className:f().buttonText,children:g.formatMessage({id:e.typeLabel})})]}),(0,a.jsx)("div",{className:f().underline})]},e.type)}))})})},control:t,name:"vehicleType"})}},18589:function(e,t,n){"use strict";n.d(t,{n:function(){return o},x:function(){return i}});var r=n(32675),a=n(83116),i=function(e){setTimeout((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}),10),setTimeout((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.click()}),10)},o=function(e){var t=e.getValues,n=e.endTripRef,o=e.startDateRef,l=e.startTimeRef,c=e.endDateRef,s=e.endTimeRef;return function(e){switch(e){case r.GN.ROUND_TRIP:(0,a.xk)(t(r.PD.START_DATE))||i(o);break;case r.GN.ONE_WAY_START:(0,a.r4)(t(r.GN.ONE_WAY_END))||i(n);break;case r.GN.ONE_WAY_END:(0,a.xk)(t(r.PD.START_DATE))||i(o);break;case"startDate":(0,a.SP)(t(r.PD.START_DATE))||i(l);break;case"startTime":(0,a.xk)(t(r.PD.END_DATE))||i(c);break;case"endDate":(0,a.SP)(t(r.PD.END_DATE))||i(s)}}}},29052:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var r=function(e){return e.isAgency}},83116:function(e,t,n){"use strict";n.d(t,{SP:function(){return a},r4:function(){return i},tX:function(){return o},xk:function(){return r}});var r=function(e){return void 0!==(null===e||void 0===e?void 0:e.date)&&null!==e.date},a=function(e){return void 0!==(null===e||void 0===e?void 0:e.time)&&null!==e.time},i=function(e){return void 0!==e&&""!==e.description},o=function(e){return setTimeout((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.blur()}),10)}},83996:function(e,t,n){"use strict";n.d(t,{Ai:function(){return p},II:function(){return h},MB:function(){return f},OF:function(){return m},RL:function(){return A},ag:function(){return v}});var r=n(14924),a=n(828),i=n(27484),o=n.n(i),l=n(32675),c=n(94261),s=n(14337),d=n(83116),u="18:00",p=function(e){var t=e.inputName,n=e.type,r=e.messageId;(0,e.validationMethods.setError)(t,{type:n,message:r})},h=function(e){var t,n=e.inputName,i=e.setValue,u=e.isOneWayTrip,p=e.validationMethods,h=p.clearErrors,m=p.getValues,A=m(l.PD.START_DATE),g=m(l.PD.END_DATE),_=(0,d.xk)(A),T=(0,d.SP)(A),k=(0,d.xk)(g),E=(0,d.SP)(g),R=T&&E;if(_&&k){var S=n===l.PD.START_DATE?l.PD.END_DATE:l.PD.START_DATE,P=o()(A.date),x=o()(g.date);if(R&&(P=o()((0,s.i)(A)),x=o()((0,s.i)(g)),P.isSame(x)))return void i(S,{date:null,time:null});if(P.isAfter(x))return void i(S,{date:null,time:null});if(f(A,g,u,p))return}var y=(t={},(0,r.Z)(t,l.PD.START_DATE,v(_,T)),(0,r.Z)(t,l.PD.END_DATE,v(k,E)),t);Object.entries(y).map((function(e){var t=(0,a.Z)(e,2),n=t[0];switch(t[1]){case c.DZ.DATE_TIME:break;case c.DZ.NO_ERROR:default:h(n)}}))},f=function(e,t,n,r){var a=r.clearErrors,i=n?c.Kn:c.gq,o=(0,s.$A)(e,t)>i;return o&&(a([l.PD.START_DATE,l.PD.END_DATE]),p({inputName:l.PD.END_DATE,type:c.DZ.DATE_TIME_ERROR_ON_END_DATEPICKER,messageId:n?"dateTimePickerOneWayDateTimeEndDateError":"dateTimePickerRoundTripDateTimeEndDateError",validationMethods:r})),o},m=function(e){return e&&e<new Date},v=function(e,t,n){return!e&&t?c.DZ.DATE:e&&!t?c.DZ.TIME:e||t?m(n)?c.DZ.DATE_IN_PAST:c.DZ.NO_ERROR:c.DZ.DATE_TIME},A=function(e){var t=e.inputName,n=e.setValue,r=e.validationMethods.getValues,a=t===l.PD.START_DATE,i=r(l.PD.START_DATE),o=r(l.PD.END_DATE),c=(0,d.xk)(i),p=(0,d.SP)(i),h=(0,d.xk)(o),f=c&&h;if(c&&a){var m=(0,s.Tk)(i.date,new Date)?(0,s.Ej)():"09:00";n(t,{date:i.date,time:m})}else if(f&&p&&!a){var v=(0,s.Tk)(i.date,o.date);v&&i.time<u?n(t,{date:o.date,time:u}):v||n(t,{date:o.date,time:i.time})}else;}},35832:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(85893),a=n(11648),i=function(e){var t=e.isError,n=(0,a.rZ)().colors[t?"error-red":"ocean-blue"][0];return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:22,height:22,children:[(0,r.jsx)("path",{"data-name":"Rectangle 892",style:{fill:"none"},d:"M0 0h22v22H0z"}),(0,r.jsxs)("g",{"data-name":"Rectangle 893",transform:"translate(2 3.5)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},children:[(0,r.jsx)("rect",{width:18,height:16,rx:4,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("rect",{x:.9,y:.9,width:16.2,height:14.2,rx:3.1,style:{fill:"none"}})]}),(0,r.jsx)("path",{"data-name":"Ligne 250",transform:"translate(3.5 7.868)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},d:"M0 0h15"}),(0,r.jsx)("path",{"data-name":"Ligne 248",transform:"translate(6.95 2.5)",style:{strokeLinecap:"round",stroke:n,strokeWidth:"1.8px",fill:"none"},d:"M0 0v3"}),(0,r.jsx)("path",{"data-name":"Ligne 249",transform:"translate(15.05 2.5)",style:{strokeLinecap:"round",stroke:n,strokeWidth:"1.8px",fill:"none"},d:"M0 0v3"}),(0,r.jsxs)("g",{"data-name":"Groupe 8496",children:[(0,r.jsxs)("g",{"data-name":"Ellipse 409",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},transform:"translate(6 10.115)",children:[(0,r.jsx)("circle",{cx:1,cy:1,r:1,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("circle",{cx:1,cy:1,r:.1,style:{fill:"none"}})]}),(0,r.jsxs)("g",{"data-name":"Ellipse 410",transform:"translate(10 10.115)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},children:[(0,r.jsx)("circle",{cx:1,cy:1,r:1,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("circle",{cx:1,cy:1,r:.1,style:{fill:"none"}})]}),(0,r.jsxs)("g",{"data-name":"Ellipse 411",transform:"translate(14 10.115)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},children:[(0,r.jsx)("circle",{cx:1,cy:1,r:1,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("circle",{cx:1,cy:1,r:.1,style:{fill:"none"}})]}),(0,r.jsxs)("g",{"data-name":"Ellipse 412",transform:"translate(6 14.115)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},children:[(0,r.jsx)("circle",{cx:1,cy:1,r:1,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("circle",{cx:1,cy:1,r:.1,style:{fill:"none"}})]}),(0,r.jsxs)("g",{"data-name":"Ellipse 413",transform:"translate(10 14.115)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},children:[(0,r.jsx)("circle",{cx:1,cy:1,r:1,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("circle",{cx:1,cy:1,r:.1,style:{fill:"none"}})]}),(0,r.jsxs)("g",{"data-name":"Ellipse 414",transform:"translate(14 14.115)",style:{stroke:n,strokeWidth:"1.8px",fill:"none"},children:[(0,r.jsx)("circle",{cx:1,cy:1,r:1,style:{stroke:"none"},stroke:"none"}),(0,r.jsx)("circle",{cx:1,cy:1,r:.1,style:{fill:"none"}})]})]})]})}},39524:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(85893),a=function(e){var t=e.size,n=void 0===t?"34":t,a=e.color,i=void 0===a?"#062e5e":a;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 34 34",children:[(0,r.jsx)("path",{transform:"translate(1 5)",fill:"transparent",d:"M0 0h29v29H0z"}),(0,r.jsxs)("g",{"data-name":"Ellipse 871",fill:"#fff",stroke:"#f7f7f7",children:[(0,r.jsx)("circle",{cx:"17",cy:"17",r:"17",stroke:"none"}),(0,r.jsx)("circle",{cx:"17",cy:"17",r:"16.5",fill:"none"})]}),(0,r.jsx)("path",{d:"m940.95 1166.491-9.368 8.966a.8.8 0 0 1-1.1 0 .725.725 0 0 1 0-1.057l8.816-8.438-8.816-8.438a.725.725 0 0 1 0-1.057.806.806 0 0 1 1.1 0l9.368 8.966a.727.727 0 0 1 0 1.058z",transform:"translate(-918.107 -1148.963)",fill:i,stroke:i,strokeWidth:".5px"})]})}},319:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(85893),a=n(11648),i=function(e){var t=e.size,n=void 0===t?22:t,i=e.color,o=e.isError,l=void 0!==o&&o,c=(0,a.rZ)(),s=null!==i&&void 0!==i?i:c.colors[l?"error-red":"ocean-blue"][0];return(0,r.jsxs)("svg",{"data-name":"Layer 2",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,children:[(0,r.jsx)("g",{"data-name":"invisible box",children:(0,r.jsx)("path",{"data-name":"Rectangle 1204",style:{fill:"none"},d:"M0 0h22v22H0z"})}),(0,r.jsxs)("g",{"data-name":"icons Q2",children:[(0,r.jsx)("path",{"data-name":"Trac\\xE9 11281",d:"M20.231 11.846a1.385 1.385 0 1 1-1.385 1.385 1.339 1.339 0 0 1 1.385-1.385m0-1.846a3.231 3.231 0 1 0 3.231 3.231A3.231 3.231 0 0 0 20.231 10z",transform:"translate(-12.153 -4.385)",style:{fill:s}}),(0,r.jsx)("path",{"data-name":"Trac\\xE9 11282",d:"M14.846 3.846c3.415 0 6 2.769 6 6.462s-3.969 7.708-6 9.785c-2.031-2.077-6-6.323-6-9.785a6.245 6.245 0 0 1 6-6.462m0-1.846C10.277 2 7 5.739 7 10.308s5.308 9.831 7.2 11.723a.877.877 0 0 0 1.292 0c1.892-1.892 7.2-7.062 7.2-11.723S19.416 2 14.846 2z",transform:"translate(-6.769 -1.077)",style:{fill:s}})]}),(0,r.jsx)("path",{"data-name":"Ligne 456",transform:"translate(11.5 20.5)",style:{stroke:s,strokeLinecap:"round",strokeWidth:"1.5px",fill:"none"},d:"M0 0h8"})]})}},5432:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(67294);function a(e){var t=(0,r.useState)(!1),n=t[0],a=t[1];return(0,r.useEffect)((function(){var t=window.matchMedia(e),n=function(){return a(!!t.matches)};return n(),t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}),[e]),n}},61213:function(e){e.exports={hidden:"SearchBlock_hidden__788XR",searchBlockContainer:"SearchBlock_searchBlockContainer__HIN6i",searchBlockContent:"SearchBlock_searchBlockContent__WLWgC",vehicleTypeContainer:"SearchBlock_vehicleTypeContainer__M3tyg",checkboxContainer:"SearchBlock_checkboxContainer__qSxYk",container:"SearchBlock_container__4u1YX",roundTripContainer:"SearchBlock_roundTripContainer__oIc0x",roundTripSubContainer:"SearchBlock_roundTripSubContainer__a8puS",dateTimePickersContainer:"SearchBlock_dateTimePickersContainer__hAi86",searchButtonContainer:"SearchBlock_searchButtonContainer__orfnS"}},53219:function(e){e.exports={label:"GoogleMapsAutocomplete_label__xqrme",input:"GoogleMapsAutocomplete_input__4a_8F",error:"GoogleMapsAutocomplete_error__1PDal",hovered:"GoogleMapsAutocomplete_hovered__h9zwD",icon:"GoogleMapsAutocomplete_icon__pVZTG",dropdownHidden:"GoogleMapsAutocomplete_dropdownHidden__4EAJg",dropdownShown:"GoogleMapsAutocomplete_dropdownShown__nVdF8",thinBorderRight:"GoogleMapsAutocomplete_thinBorderRight__Svwb4",thinBorderLeft:"GoogleMapsAutocomplete_thinBorderLeft__J1gtj"}},83555:function(e){e.exports={label:"PlacePredictionAutocomplete_label__j5viX",input:"PlacePredictionAutocomplete_input__F8VRu",error:"PlacePredictionAutocomplete_error__LXZ5U",hovered:"PlacePredictionAutocomplete_hovered__9lBma",icon:"PlacePredictionAutocomplete_icon__M0yve",dropdownHidden:"PlacePredictionAutocomplete_dropdownHidden__SuKdT",dropdownShown:"PlacePredictionAutocomplete_dropdownShown__TTnCy",thinBorderRight:"PlacePredictionAutocomplete_thinBorderRight__yVHdW",thinBorderLeft:"PlacePredictionAutocomplete_thinBorderLeft__hPEtN"}},34425:function(e){e.exports={label:"SearchBlockCheckbox_label__sOVp2",checkedLabel:"SearchBlockCheckbox_checkedLabel__U_oKR",uncheckedLabel:"SearchBlockCheckbox_uncheckedLabel__ww24C",disabledLabel:"SearchBlockCheckbox_disabledLabel__RPWfA",checkboxInput:"SearchBlockCheckbox_checkboxInput__fFywq",disabledCheckboxInput:"SearchBlockCheckbox_disabledCheckboxInput__sQ_fP"}},2963:function(e){e.exports={searchBlockContainer:"CollapsedSearchBlock_searchBlockContainer__DXVxG",shownSearchBlock:"CollapsedSearchBlock_shownSearchBlock__jv6Eo",innerContainer:"CollapsedSearchBlock_innerContainer___zyEc",searchBlock:"CollapsedSearchBlock_searchBlock__88xwi",date:"CollapsedSearchBlock_date__pG754",separator:"CollapsedSearchBlock_separator__XwT09",time:"CollapsedSearchBlock_time__ZAsht",pickup:"CollapsedSearchBlock_pickup__J79qz",dates:"CollapsedSearchBlock_dates__4U8ls",iconContainer:"CollapsedSearchBlock_iconContainer__gh1cx",dateContainer:"CollapsedSearchBlock_dateContainer__uSB_q",addressContainer:"CollapsedSearchBlock_addressContainer__1vNk4",address:"CollapsedSearchBlock_address__26YGJ",modifyButtonContainer:"CollapsedSearchBlock_modifyButtonContainer__1rnkb",label:"CollapsedSearchBlock_label__vTyxG",hiddenSearchBlock:"CollapsedSearchBlock_hiddenSearchBlock__rsCcD"}},93384:function(e){e.exports={inputWrapperRoot:"DateTimePicker_inputWrapperRoot__HGXR5",inputWrapperError:"DateTimePicker_inputWrapperError__XVgWg",dateTimePickerContainer:"DateTimePicker_dateTimePickerContainer__FAA53",datePickerWrapper:"DateTimePicker_datePickerWrapper__kTveZ",datePickerInput:"DateTimePicker_datePickerInput__VnmE7",datePickerIcon:"DateTimePicker_datePickerIcon__Bf8gI",selectInput:"DateTimePicker_selectInput__zQuM1",selectHovered:"DateTimePicker_selectHovered__y9eA6",selectDropdown:"DateTimePicker_selectDropdown__yA7tc",dropdownItem:"DateTimePicker_dropdownItem__cGItn",selectRightSection:"DateTimePicker_selectRightSection__80POX",dateTimePickerError:"DateTimePicker_dateTimePickerError__AhFO9",datePickerEveryday:"DateTimePicker_datePickerEveryday__PFgUu",datePickerRangeStartTip:"DateTimePicker_datePickerRangeStartTip__2_SaR",datePickerRangeEndTip:"DateTimePicker_datePickerRangeEndTip__J5ZKc",datePickerInRange:"DateTimePicker_datePickerInRange__GELF_",datePickerToday:"DateTimePicker_datePickerToday__p3R5X",datePickerDisabledDay:"DateTimePicker_datePickerDisabledDay__Ip0Hb",loading:"DateTimePicker_loading__qWGnH",fullWidth:"DateTimePicker_fullWidth__1nJkB"}},59614:function(e){e.exports={overflowContainer:"VehicleTypeSelection_overflowContainer__bGw1h",buttonsContainer:"VehicleTypeSelection_buttonsContainer__81c9B",buttonContainer:"VehicleTypeSelection_buttonContainer__zNiSD",active:"VehicleTypeSelection_active__qOteG",underline:"VehicleTypeSelection_underline__rv0ji",buttonContent:"VehicleTypeSelection_buttonContent__8Ir86",buttonText:"VehicleTypeSelection_buttonText__vN5Iv"}}}]);
//# sourceMappingURL=6036-bc0e5d8a26332e49.js.map